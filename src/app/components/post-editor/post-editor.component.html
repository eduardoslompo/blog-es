<div class="container">
  <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Título</label>
      <input
        id="title"
        type="text"
        formControlName="title"
        class="input-field"
      >
    </div>

    <div class="form-group">
      <label for="image">URL da Imagem</label>
      <input
        id="image"
        type="url"
        formControlName="image"
        class="input-field"
      >
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
      <div class="form-group">
        <label for="content">Conteúdo (Markdown)</label>
        <textarea
          id="content"
          formControlName="content"
          class="input-field"
          style="height: 24rem;"
        ></textarea>
      </div>

      <div>
        <label>Preview</label>
        <div class="preview">
          <markdown [data]="preview"></markdown>
        </div>
      </div>
    </div>

    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
      <button
        type="submit"
        class="btn"
        [disabled]="postForm.invalid || status === 'loading'"
      >
        {{ status === 'loading' ? 'Publicando...' : 'Publicar Post' }}
      </button>

      <div *ngIf="status === 'success'" class="success">
        Post publicado com sucesso!
      </div>

      <div *ngIf="status === 'error'" class="error">
        Erro ao publicar post. Tente novamente.
      </div>
    </div>
  </form>
</div>